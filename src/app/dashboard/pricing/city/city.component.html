<div class="my-2 d-flex justify-content-end pr-5">
  <button type="button" class="btn btn-primary" (click)="wantaddcity()">
    Add City
  </button>
</div>
<div class="parent" *ngIf="value">
  <form [formGroup]="createcity">
    <div class="main">
      <div class="stg">
        <div class="field">
          <label for="country">Country :</label>
          <p class="control has-icons-left">
            <span class="select">
              <select
                class="shadow"
                #country
                id="mySelect"
                formControlName="countryname"
                (change)="autochanges($event.target,1)"
                (change)="selectedCountry($event)"
              >
                <option
                  *ngFor="let country of countryList"
                  [value]="country.countryname"
                  class="bg-light"
                  [attr.country-id]="country._id"
                >
                  {{country.countryname | titlecase}}</option
                >
              </select>
            </span>
            <span class="icon is-small is-left">
              <i class="fas fa-globe"></i>
            </span>
          </p>
        </div>
        <span
          class="field text-center"
          *ngIf="createcity.get('countryname')?.invalid && (createcity.get('countryname')?.dirty || createcity.get('countryname')?.touched)"
        >
          <span
            *ngIf="createcity.get('countryname')?.hasError('required')"
            style="color: red;"
            >Please Select Country...</span
          >
          <!-- <span *ngIf="createcity.get('cityname')?.hasError('incorrect')">CarType is already exists</span> -->
        </span>
      </div>
      <div class="stg">
        <div class="field">
          <!-- <label class="label">Username</label> -->
          <label for="country">City :</label>
          <div class="control has-icons-left has-icons-right">
            <input
              class="input is-success"
              type="text"
              placeholder="Enter The City....."
              id="input"
              formControlName="cityname"
              (input)="AddAutoCity()"
              (change)="updateautocomplete()"
            />
            <span class="icon is-small is-left">
              <i class="fas fa-flag"></i>
            </span>
          </div>
          <!-- <p class="help is-success">This username is available</p> -->
        </div>
        <div
          class="field mt-3 text-center"
          *ngIf="createcity.get('cityname')?.invalid && (createcity.get('cityname')?.dirty || createcity.get('cityname')?.touched)"
        >
          <span
            *ngIf="createcity.get('cityname')?.hasError('required')"
            style="color: red;"
            >Please Select City...</span
          >
          <span
            *ngIf="createcity.get('cityname')?.hasError('incorrect')"
            style="color: red;"
            >City is already exists</span
          >
        </div>
      </div>
    </div>
    <div class="addbutton mb-3 d-flex justify-content-center">
      <button
        type="button"
        class="btn btn-danger mx-2"
        *ngIf="normal"
        (click)="AddCity(createcity.value)"
      >
        Add
      </button>
      <button
        type="button"
        class="btn btn-danger mx-2"
        *ngIf="edit"
        (click)="updateCity(this.createcity.value)"
      >
        Update
      </button>
      <button type="button" class="btn btn-danger mx-2" (click)="cancel()">
        Cancel
      </button>
    </div>
  </form>
</div>
<div id="map"></div>
<div class="col-12 my-3 p-3 mb-5">
  <div>
    <table class="table align-middle mb-0 bg-white mb-5">
      <thead class="bg-secondary bg-gradient">
        <tr>
          <th>CountryName</th>
          <th>CityName</th>
          <th>Update</th>
        </tr>
      </thead>
      <tbody *ngFor="let city of citylist" class="">
        <tr class="table-primary">
          <td>
            {{city.countryid.countryname | titlecase}}
          </td>
          <td>
            {{city.cityname | titlecase}}
          </td>
          <td>
            <button
              type="button"
              class="btn btn-success"
              id="{{city._id}}"
              (click)="EditCity($event.target)"
            >
              Update
            </button>
          </td>
          <!-- <td>
              <button type="button" class="btn btn-danger" id="{{city._id}}" (click)="deleteCity($event.target)">Delete</button>
            </td> -->
        </tr>
      </tbody>
    </table>
  </div>
</div>
